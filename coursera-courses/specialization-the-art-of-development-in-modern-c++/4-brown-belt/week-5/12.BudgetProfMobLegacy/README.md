В прошлой задаче вы модифицировали хорошо структурированный код базовой (home) функциональности Личного бюджета. Здесь же вам предстоит реализовать ту же функциональность (professional), но на основе менее понятного кода:

budget_bad_base
https://d3c33hcgiwev3.cloudfront.net/AMBnTRPSEemP8Qpm209XvA_00e99a0013d211e9b77f2373d80ea244_budget_bad_base.cpp?Expires=1653436800&Signature=CmEQA6wFSy1eq32jKb0yNzHmy56Z0s3p~wAg-WX5fzOLCaBIoQjL5JGnqBP7d5qJ7HfIztN2omcP6NBh6TRdP1lsdRrYIbuMcQFprXFSMIYpVKGVHzd3l1UQSRxhg7VvejsIB-jW1DzWfF2PAsDZwdrvf2ZURoLejpR5UCTu70k_&Key-Pair-Id=APKAJLTNE6QMUY6HBC5A

Эта задача демонстрирует, насколько проще дорабатывать аккуратно написанный код, даже если его основная идея вам незнакома. Тем не менее, если ранее вы уже реализовывали алгоритм, используемый в этой задаче, более короткий код покажется вам не таким уж и непонятным.
О тестировании

Современные компиляторы достаточно хорошо оптимизируют код, поэтому legacy-версия не оказывается быстрее предыдущей, более громоздкой, версии.

Чтобы вы не могли сдать в эту задачу решение предыдущей, код будет компилироваться без оптимизаций: как следствие, решение предыдущей задачи здесь не уложится в ограничения по времени (3 секунды). Поскольку это ограничение довольно жёсткое, а реальное время работы программы может варьироваться в зависимости от текущей нагрузки на тестирующий сервер, с небольшой вероятностью даже правильное решение может не уложиться в ограничения по времени — в этом случае мы советуем вам переотправить решение.
